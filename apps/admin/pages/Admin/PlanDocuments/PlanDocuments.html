<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Plan Documents</title>
        <link rel="stylesheet" type="text/css" href="https://unpkg.com/mocha@4.0.1/mocha.css" />
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.18/datatables.min.css" /> 
        <link rel="stylesheet" type="text/css" href="../../css/site.css" />
        <link rel="stylesheet" type="text/css" href="../../css/jquery-ui.css" />
        <link rel="stylesheet" href="../../css/bootstrap/bootstrap.css">
        <!--<link rel="stylesheet" href="https://cdn.metroui.org.ua/v4/css/metro-all.min.css">-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    </head>
    <body style="margin: 10px">
            <!-- quotingPaths = {
                proj05: "https://quoting-api-proj05.prod.simon365.com/quoting/api/v1",
                test: "https://quoting-api-test.test.simon365.com/quoting/api/v1",
                local: "http://localhost:2001/quoting/api/v1"
            } -->
        <select id="vimlyEnv">
            <option value="http://localhost:2001/quoting/api/v1">local</option>
            <option value="https://quoting-api-proj05.prod.simon365.com/quoting/api/v1">proj05</option>
            <option value="https://quoting-api-staging.prod.simon365.com/quoting/api/v1">staging</option>
            <option value="https://quoting-api.prod.simon365.com/quoting/api/v1">prod</option>
        </select>

        <div class="container">
            <div class="row">
                <div class="col-6">
                    <fieldset>
                        <legend>Documents</legend>
                        <table id="productInfoLinks">
                            <thead>
                                <tr>
                                    <tr><th>Document</th></tr>
                                </tr>                    
                            </thead>
                            <tbody> 
                                <tr></tr>                   
                            </tbody>
                        </table>
                    </fieldset>
                </div>
                <div class="col-6">
                    <fieldset class="plan-details">
                        <legend>Plan Links</legend>
                        <label class="plan-details-label" for="plan-link-id">Plan Id</label><input type="text" id="plan-link-id" placeholder="planId" value="H2E8WB43678232" />
                        <label class="plan-details-label" for="plan-link-year">Plan Year</label><input type="text" id="plan-link-year" placeholder="year" value="2020" />
                        <label class="plan-details-label" for="plan-link-month">Plan Month</label><input type="text" id="plan-link-month" placeholder="month" value="01" />
                        <input type="button" value="search" id="checkPlanButton" />
                    </fieldset>
                </div>
            </div>
        </div>

        <script 
            src="https://code.jquery.com/jquery-3.4.1.js"
            integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
            crossorigin="anonymous">
        </script>        
        <script src="/dust.js"></script>  
        <script src="/lodash.full.js"></script>
        <script src="/dist/Admin/main.bundle.js"></script> 
        <script src="/serviceproxy/proxies.js"></script>
        <script src="/datatables/js/jquery.dataTables.js"></script>
        <script>
            planDetails.getPdfFilePaths().then(data => {                
                var dataSet = [];
                _.each(data, pdf => {
                    var row = []
                    row.push(pdf);
                    dataSet.push(row);
                });
                var dataTable = $("#productInfoLinks").DataTable({
                    data: dataSet,
                    columns: [
                        {title: "Name"}
                    ]
                });
            });
        </script>
    </body>
</html>